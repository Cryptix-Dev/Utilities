# Gradle Project Templates

For more information, documentation, and samples visit http://gradle.org/

### Project Structures

The following are the generic project structures for both single project and multi-project gradle setups. Any plugin specific structures will be in their templates folder.

**Single Project**
```
Project/
    build.gradle
    gradlew
    gradlew.bat
    build/
        (generated builds)
    gradle/
        Helper Files
        wrapper/
            gradle-wrapper.jar
            gradle-wrapper.properties
    src/
        (Source Directories)
```

**Multi Project**
```
Project/
    build.gradle
    settings.gradle
    gradlew
    gradlew.bat
    build/
        (generated builds)
    gradle/
        Helper Files
        wrapper/
            gradle-wrapper.jar
            gradle-wrapper.properties
    sub1/
        build.gradle
        build/
            (generated builds)
        src/
            (Source Directories)
    sub2/
        build.gradle
        build/
            (generated builds)
        src/
            (Source Directories)
```

### Gradle Files

The following sections are generic descriptions and uses of gradle files. For specific information visit the specific templates in this repository and their plugin's gradle documentation.

#### build.gradle

The build.gradle file is the core of any gradle project. The build.gradle defines what plugins the project uses, custom tasks, dependencies, and any plugin specific configuration.

For plugin specific information visit their templates and gradle documentation.

**Adding Plugins**

To add a plugin, add the following to the top of your build.gradle:
```
apply plugin: 'pluginName'
```
where pluginName is the name of the plugin (ex: `'java'`).

**Dependencies**

Since gradle is built off of maven, dependencies are simply defined in the build.gradle and will automatically be downloaded and used on build.
To add dependencies add the following to your build.gradle:
```
dependencies {
    compile 'group:name:version'
}
```
where group, name, and version are that of the dependency you want to add.
You can replace `compile` with one of the following to apply them to different aspects of the project:
* `runtime` - adds dependencies at runtime. By default compile dependencies will also be added.
* `testCompile` - adds dependencies at compile of the test source. By default compile dependencies will also be added.
* `testRuntime` - adds dependencies at runtime of the test source. By default compile, runtime, and testCompile dependencies will also be added.

**Repositories**

Repositories are how you define where the build.gradle can get the dependencies. You can add locations from central repositories like `mavenCentral()` or `jCenter()`, or from local file systems or HTTP.
TO add repositories add the following to your build.gradle:
```
repositories {
    mavenCentral()
}
```

##### Multi Projects

In multi-project setups, there is a build.gradle in the root of the project directory and in each sub-project folder is a build.gradle.

In the multi-project root you can define settings to be used in all sub-projects.
Anything in `allprojects {}`gets applied to all sub-projects build.gradle and the root projects build.gradle.
Anything in `subprojects {}` gets applied to all sub-project build.gradle.

For example:
```
subprojects {
    repositories {
        mavenCentral()
    }
    dependencies {
        testCompile 'junit:junit:4.12'
    }
}
```
will apply the central repository `mavenCentral()` and the junit test dependency to all sub-projects.

#### settings.gradle

The settings.gradle is a gradle file unique to multi-project gradle builds. It is not used in a single project setup.

This file is located at the root of the project directory. It contains one line referencing each sub-project. A sub-project is defined as a folder, like `app/` generated by Android Studio, with a `build.gradle` inside that folder.

For example,
This following multi-project structure:
```
Project/
    settings.gradle
    build.gradle
    app/
        build.gradle
    java/
        build.gradle
    libraries/
        lib1/
            build.gradle
        lib2/
            build.gradle
```
would have the following as the settings.gradle:
```
include ':app', ':java', ':libraries:lib1', ':libraries:lib2'
```

#### Helper Files

Gradle Helper Files are module-like gradle files to simplify some functions and tasks on your projects build.gradle. The Helper Files allow for a more readable and easier gradle experience. 

It is highly recommended to store your helper.gradle files in the folder `gradle/` at project root. This will allow easy reference in both your root build.gradle and any sub-project build.gradle file.
Refer to the [Project Structures](#project-structures) section for helper location reference.

To implement a helper.gradle file into your projects build.gradle simply do the following:

Copy your desired helper.gradle file into your projects gradle folder (ex: copy `version-helper.gradle` into `gradle/`)
 
Apply the helper.gradle file to your projects build.gradle.
- `apply from: 'gradle/helper.gradle'` for build.gradle in project root
- `apply from: '../gradle/helper.gradle'` for build.gradle in sub-projects

After applying your helper.gradle you will be able to use its functions and tasks.
For example, applying `version-helper.gradle` gives you access to the `gitVersion()` function.

For information on specific helper.gradle files visit the [Helper folder](Helper/)

### Wrapper

The gradle wrapper allows the use of project build files on any machine without requiring the user to install Gradle. It also universalizes the gradle version to reduce differences between machine builds. It does this by including a gradle wrapper installer into the root of the project.

Use the wrapper by using one of the following commands:
```
./gradlew for *unix
or
./gradlew.bat for Windows
```

Example usage:
```
./gradlew clean build
```

If you have gradle installed, gradle will run your `gradle` with the wrapper version instead of your installed version.

#### Wrapper Setup

Setting up the wrapper is a simple two step process.

In your project's root build.gradle make sure you have the following task:
```
task wrapper(type: Wrapper) {
    gradleVersion = 'gradleVersion'
}
```
where `'gradleVersion'` is the version of gradle you want the wrapper to be (ex: `'2.5'`).

Run `./gradle wrapper` to generate the following files:
```
gradlew
gradlew.bat
gradle/
    wrapper/
        gradle-wrapper.jar
        gradle-wrapper.properties
```
